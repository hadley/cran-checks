
R Under development (unstable) (2018-01-02 r74022) -- "Unsuffered Consequences"
Copyright (C) 2018 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> if(require("RUnit", quietly=TRUE)) {
+  
+   ## --- Setup ---
+  
+   pkg <- "fingerprint" # <-- Change to package name!
+   if(Sys.getenv("RCMDCHECK") == "FALSE") {
+     ## Path to unit tests for standalone running under Makefile (not R CMD check)
+     ## PKG/tests/../inst/unitTests
+     path <- file.path(getwd(), "..", "inst", "unitTests")
+   } else {
+     ## Path to unit tests for R CMD check
+     ## PKG.Rcheck/tests/../PKG/unitTests
+     path <- system.file(package=pkg, "unitTests")
+   }
+   cat("\nRunning unit tests\n")
+   print(list(pkg=pkg, getwd=getwd(), pathToUnitTests=path))
+  
+   library(package=pkg, character.only=TRUE)
+  
+   ## If desired, load the name space to allow testing of private functions
+   ## if (is.element(pkg, loadedNamespaces()))
+   ##     attach(loadNamespace(pkg), name=paste("namespace", pkg, sep=":"), pos=3)
+   ##
+   ## or simply call PKG:::myPrivateFunction() in tests
+  
+   ## --- Testing ---
+  
+   ## Define tests
+   testSuite <- defineTestSuite(name=paste(pkg, "fingerprint Unit Tests"),
+                                           dirs=path)
+   ## Run
+   tests <- runTestSuite(testSuite)
+  
+   ## Default report name
+   pathReport <- file.path(path, "report")
+  
+   ## Report to stdout and text files
+   cat("------------------- UNIT TEST SUMMARY ---------------------\n\n")
+   printTextProtocol(tests, showDetails=FALSE)
+   printTextProtocol(tests, showDetails=FALSE,
+                     fileName=paste(pathReport, "Summary.txt", sep=""))
+   printTextProtocol(tests, showDetails=TRUE,
+                     fileName=paste(pathReport, ".txt", sep=""))
+  
+   ## Report to HTML file
+   printHTMLProtocol(tests, fileName=paste(pathReport, ".html", sep=""))
+  
+   ## Return stop() to cause R CMD check stop in case of
+   ##  - failures i.e. FALSE to unit tests or
+   ##  - errors i.e. R errors
+   tmp <- getErrors(tests)
+   if(tmp$nFail > 0 | tmp$nErr > 0) {
+     stop(paste("\n\nunit testing failed (#test failures: ", tmp$nFail,
+                ", #R errors: ",  tmp$nErr, ")\n\n", sep=""))
+   }
+ } else {
+   warning("cannot run unit tests -- package RUnit is not available")
+ }

Running unit tests
$pkg
[1] "fingerprint"

$getwd
[1] "/home/tomas/cran/rlibro/check/fingerprint.Rcheck/tests"

$pathToUnitTests
[1] "/homero/tomas/cran/rlibro/lib/fingerprint/unitTests"



Executing test function test.and1  ...  done successfully.



Executing test function test.and2  ...  done successfully.



Executing test function test.distance1  ...  done successfully.



Executing test function test.distance2  ...  done successfully.



Executing test function test.feature  ...  done successfully.



Executing test function test.feature.c  ...  done successfully.



Executing test function test.feature.dist1  ...  done successfully.



Executing test function test.feature.dist2  ...  done successfully.



Executing test function test.feature.fp  ...  done successfully.



Executing test function test.featvec.read  ...  done successfully.



Executing test function test.fold1  ...  done successfully.



Executing test function test.fold2  ...  done successfully.



Executing test function test.fp.balance  ...  done successfully.



Executing test function test.fp.sim.matrix  ...  done successfully.



Executing test function test.fp.to.matrix  ...  done successfully.



Executing test function test.fps.reader  ...  done successfully.



Executing test function test.new.fp  ...  done successfully.



Executing test function test.not  ...  done successfully.



Executing test function test.or1  ...  done successfully.



Executing test function test.or2  ...  done successfully.



Executing test function test.tversky.1  ...  done successfully.



Executing test function test.tversky.2  ...  done successfully.



Executing test function test.tversky.3  ...  done successfully.



Executing test function test.tversky.4  ...  done successfully.



Executing test function test.xor1  ...  done successfully.



Executing test function test.xor2  ...  done successfully.



Executing test function tester.getters.setters  ...  done successfully.

------------------- UNIT TEST SUMMARY ---------------------

RUNIT TEST PROTOCOL -- Tue Jan  2 15:17:15 2018 
*********************************************** 
Number of test functions: 27 
Number of errors: 0 
Number of failures: 0 

 
1 Test Suite : 
fingerprint fingerprint Unit Tests - 27 test functions, 0 errors, 0 failures
Error in file(file, ifelse(append, "a", "w")) : 
  cannot open the connection
Calls: printTextProtocol -> cat -> file
In addition: Warning message:
In file(file, ifelse(append, "a", "w")) :
  cannot open file '/homero/tomas/cran/rlibro/lib/fingerprint/unitTests/reportSummary.txt': Read-only file system
Execution halted
