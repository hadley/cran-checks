
R Under development (unstable) (2020-03-12 r77936) -- "Unsuffered Consequences"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> 
> # the unit tests take pretty long, that can be a problem on WB and cran (and maybe annoying locally)
> # so we run all tests only on travis and if a certain user env var is set
> if (identical(Sys.getenv("TRAVIS"), "true") || identical(Sys.getenv("R_EXPENSIVE_TEST_OK"), "true") || identical(Sys.getenv("NOT_CRAN"), "true")) {
+   test_check("mlrMBO")
+ } else {
+   test_check("mlrMBO", filter = "((mbo_rf)|(mbo_km))")
+ }
Loading required package: mlrMBO
Loading required package: mlr
Loading required package: ParamHelpers
'mlr' is in maintenance mode since July 2019. Future development
efforts will go into its successor 'mlr3' (<https://mlr3.mlr-org.com>).
Loading required package: smoof
Loading required package: checkmate
ERROR: modification of compiler constant of type character, length 2
ERROR: the modified value of the constant is:
[1] "integer"       "integervector"
attr(,".match.hash")
<hash table>
ERROR: the original value of the constant is:
[1] "integer"       "integervector"
ERROR: the modified constant is at index 1
ERROR: the modified constant is in this function body:
c("integer", "integervector")
── 1. Error: mbo works with km (@test_mbo_km.R#11)  ────────────────────────────
promise already under evaluation: recursive default argument reference or earlier problems?
Backtrace:
 1. mlrMBO::mbo(testf.fsphere.2d, des, learner = learner, control = ctrl)
 3. mlrMBO:::mboTemplate.OptProblem(opt.problem)
 5. mlrMBO:::mboTemplate.OptState(opt.state)
 6. mlrMBO:::evalProposedPoints.OptState(opt.state, prop)
 7. mlrMBO:::evalTargetFun.OptState(opt.state, xs = xs, extras = extras)
 8. parallelMap::parallelMap(...)

══ testthat results  ═══════════════════════════════════════════════════════════
[ OK: 39 | SKIPPED: 0 | WARNINGS: 0 | FAILED: 1 ]
1. Error: mbo works with km (@test_mbo_km.R#11) 

Error: testthat unit tests failed
Execution halted
