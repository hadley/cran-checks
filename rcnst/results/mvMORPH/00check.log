* using log directory ‘/home/tomas/cran/rcnst/check/mvMORPH.Rcheck’
* using R Under development (unstable) (2018-02-15 r74258)
* using platform: x86_64-pc-linux-gnu (64-bit)
* using session charset: UTF-8
* checking for file ‘mvMORPH/DESCRIPTION’ ... OK
* checking extension type ... Package
* this is package ‘mvMORPH’ version ‘1.0.9’
* checking package namespace information ... OK
* checking package dependencies ... OK
* checking if this is a source package ... OK
* checking if there is a namespace ... OK
* checking for executable files ... OK
* checking for hidden files and directories ... OK
* checking for portable file names ... OK
* checking for sufficient/correct file permissions ... OK
* checking whether package ‘mvMORPH’ can be installed ... OK
* checking package directory ... OK
* checking ‘build’ directory ... OK
* checking DESCRIPTION meta-information ... OK
* checking top-level files ... OK
* checking for left-over files ... OK
* checking index information ... OK
* checking package subdirectories ... OK
* checking R files for non-ASCII characters ... OK
* checking R files for syntax errors ... OK
* checking whether the package can be loaded ... OK
* checking whether the package can be loaded with stated dependencies ... OK
* checking whether the package can be unloaded cleanly ... OK
* checking whether the namespace can be loaded with stated dependencies ... OK
* checking whether the namespace can be unloaded cleanly ... OK
* checking loading without being on the library search path ... OK
* checking dependencies in R code ... OK
* checking S3 generic/method consistency ... OK
* checking replacement functions ... OK
* checking foreign function calls ... OK
* checking R code for possible problems ... OK
* checking Rd files ... OK
* checking Rd metadata ... OK
* checking Rd cross-references ... OK
* checking for missing documentation entries ... OK
* checking for code/documentation mismatches ... OK
* checking Rd \usage sections ... OK
* checking Rd contents ... OK
* checking for unstated dependencies in examples ... OK
* checking line endings in C/C++/Fortran sources/headers ... OK
* checking line endings in Makefiles ... OK
* checking compilation flags in Makevars ... OK
* checking for GNU extensions in Makefiles ... OK
* checking for portable use of $(BLAS_LIBS) and $(LAPACK_LIBS) ... OK
* checking compiled code ... NOTE
Note: information on .o files is not available
* checking installed files from ‘inst/doc’ ... OK
* checking files in ‘vignettes’ ... OK
* checking examples ... ERROR
Running examples in ‘mvMORPH-Ex.R’ failed
The error most likely occurred in:

> ### Name: LRT
> ### Title: Likelihood Ratio Test
> ### Aliases: LRT
> ### Keywords: LRT Loglikelihood ratio test Models comparison
> 
> ### ** Examples
> 
> 
> 
> ## Simulated dataset
> set.seed(14)
> # Generating a random tree
> tree<-pbtree(n=50)
> 
> # Setting the regime states of tip species
> sta<-as.vector(c(rep("Forest",20),rep("Savannah",30))); names(sta)<-tree$tip.label
> 
> # Making the simmap tree with mapped states
> tree<-make.simmap(tree,sta , model="ER", nsim=1)
make.simmap is sampling character histories conditioned on the transition matrix

Q =
              Forest    Savannah
Forest   -0.01865646  0.01865646
Savannah  0.01865646 -0.01865646
(estimated using likelihood);
and (mean) root node prior probabilities
pi =
  Forest Savannah 
     0.5      0.5 
Done.
> col<-c("blue","orange"); names(col)<-c("Forest","Savannah")
> 
> # Plot of the phylogeny for illustration
> plotSimmap(tree,col,fsize=0.6,node.numbers=FALSE,lwd=3, pts=FALSE)
> 
> # Simulate two correlated traits evolving along the phylogeny
> traits<-mvSIM(tree,nsim=1, model="BMM", param=list(sigma=list(matrix(c(2,1,1,1.5),2,2),
+          matrix(c(4,1,1,4),2,2)), ntraits=2, names_traits=c("head.size","mouth.size")))
No values provided for theta, default value fixed to: 0 0 
> 
> # Fit of model 1
> mod1<-mvBM(tree,traits,model="BMM")
Error in bm_fun_matrix(C, buildSigma(par[seq_len(nparsig)], index.mat,  : 
  cannot get ALTVEC DATAPTR during GC
Calls: mvBM ... optim -> <Anonymous> -> fn -> lik.Mult -> bm_fun_matrix
Execution halted
Error in levels(f) <- as.character(levels) : 
  cannot get ALTSTRING_ELT during GC
Calls: <Anonymous> ... tryCatch -> tryCatchList -> tryCatchOne -> <Anonymous>
* checking for unstated dependencies in ‘tests’ ... OK
* checking tests ... OK
  Running ‘tests.r’
* checking for unstated dependencies in vignettes ... OK
* checking package vignettes in ‘inst/doc’ ... OK
* checking running R code from vignettes ... NONE
* checking re-building of vignette outputs ... WARNING
Error in re-building vignettes:
  ...
Efficient parameterization is not yet implemented for user-defined constraints
Please check the results carefully!!
ERROR: modification of compiler constant of type double, length 1
ERROR: the modified value of the constant is:
[1] -1
ERROR: the original value of the constant is:
[1] 1
ERROR: the modified constant is at index 9
ERROR: the modified constant is in this function body:
{
    con <- list(reltol = .Machine$double.eps, maxit = 10000, 
        parscale = 1)
    namc <- names(control)[names(control) %in% names(con)]
    con[namc] <- control[namc]
    fn <- match.fun(fn)
    tryCatch(.Call(call_subplex, par, fn, tol = con$reltol, maxnfe = con$maxit, 
        scale = con$parscale, hessian, environment(fn), pairlist(...)), 
        error = function(e) {
            stop("in ", sQuote("subplex"), ": ", conditionMessage(e), 
                call. = FALSE)
        })
}
Function subplex in namespace subplex has this body.
Fatal error: compiler constants were modified!


* checking PDF version of manual ... OK
* DONE
Status: 1 ERROR, 1 WARNING, 1 NOTE
